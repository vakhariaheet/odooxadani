listBookings:
  handler: src/modules/bookings/handlers/listBookings.handler
  events:
    - httpApi:
        path: /api/bookings
        method: GET
        authorizer:
          name: clerkJwtAuthorizer
        swaggerTags:
          - Bookings
        summary: List user's bookings
        description: Returns a paginated list of the authenticated user's bookings with optional filtering
        queryStringParameters:
          limit:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
            description: Number of bookings to return
          offset:
            type: integer
            minimum: 0
            default: 0
            description: Number of bookings to skip
          status:
            type: string
            enum: [pending, confirmed, cancelled, completed]
            description: Filter by booking status
          bookingType:
            type: string
            enum: [venue, event]
            description: Filter by booking type
          venueId:
            type: string
            description: Filter by venue ID
          eventId:
            type: string
            description: Filter by event ID
          startDate:
            type: string
            format: date
            description: Filter bookings from this date
          endDate:
            type: string
            format: date
            description: Filter bookings until this date
        methodResponses:
          - statusCode: 200
            responseBody:
              description: List of bookings
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      bookings:
                        type: array
                        items:
                          $ref: '#/components/schemas/Booking'
                      totalCount:
                        type: integer
                        description: Total number of bookings matching filters
          - statusCode: 401
            responseBody:
              description: Unauthorized
